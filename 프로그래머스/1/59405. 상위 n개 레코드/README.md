# [level 1] 상위 n개 레코드 - 59405 

[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/59405) 

### 성능 요약

메모리: 0.0 MB, 시간: 0.00 ms

- 서브쿼리 : 다른 SQL 문장 안에 포함된 쿼리. 주로 외부 쿼리의 결과에 영향을 미치거나 필요한 데이터를 제한하거나 계산하기 위해 사용된다.
- rownum : 결과 집합에서 특정 순서의 행을 가리킨다. 주로 서브쿼리나 외부쿼리에서 사용. 결과 집합이 정렬되지 않은 경우에도 사용할 수 있으나 정렬된 결과를 기반으로 rownum을 쓰려면 서브쿼리와 함께 써야 한다.

**`rownum`보다는 `fetch first`를 쓰는 것이 더 권장된다.** 가독성과 표현력이 더 좋기 때문.

- fetch first : 결과 집합에서 특정 개수의 행을 선택할 때 사용. 특정 숫자의 행이나 특정 비율의 행을 선택함. rownum보다 더 간결하고 직관적인 코드 작성 가능. `fetch first 1 row only`는 정렬된 결과에서 첫 번째 행을 선택한다는 의미.

datetime 기준으로 name컬럼을 정렬하면 첫 번째 행은 가장 먼저 들어온 동물의 이름이다. fetch first 1 row only는 첫 번째 행을 뜻하므로 **서브쿼리를 함께 써야 하는 `rownum`보다 코드가 쉽고 직관적이다.**

### 정리
- rownum : n번째 행을 선택. 일반적으로 where절에서 쓰이며 정렬되지 않은 결과를 기반으로 함. 정렬된 결과를 기반으로 할 땐 서브쿼리를 함께 사용해야 한다.
- fetch first, limit(MySQL) : 정렬된 결과 집합에서 처음부터 특정 개수의 행을 선택. rownum과 달리 반드시 정렬된 결과를 기반으로 하기 때문에 order by절이 꼭 필요하다.
